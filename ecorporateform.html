<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<title>
			Imperial Asset Managers Limited – We are Imperial….Proudly Imperial
		</title>
		<link rel="stylesheet" href="style.css" />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
		/>
		<style>
			.fblk {
				flex-direction: column;
				gap: 2px;
			}

			.btnk {
				display: flex;
				flex-direction: row;
				gap: 10px;
			}
		</style>

		<style>
			.hidden {
				display: none;
			}
			.hidden {
				display: none;
			}
			.etraderformgrid .whitebtn {
				background-color: white;
				color: black !important;
			}
		</style>

		<style>
			.no-copy {
				user-select: none;
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
			}
			.reach {
				display: flex;
				flex-direction: column;
				gap: 5px;
			}
			.reach span {
				display: flex;
				align-items: center;
				gap: 8px;
			}
			.reach img {
				width: 15px;
			}
			.reach .sp {
				font-weight: 500;
				color: white;
			}
			.reach div {
				line-height: 20px;
				margin-bottom: 10px;
			}
		</style>
	</head>
	<body>
		<div class="overlay" id="overlay"></div>

		<!-- Popup -->
		<div class="popup" id="popup">
			<div class="popup-content">
				<div class="popuptop">
					To access this research, kindly create an account.
					<div class="close-bt" onclick="closePopup()">x</div>
				</div>
				<div class="myform">
					<div class="formtitle">Creat an Account</div>
					<input type="text" placeholder="First Name" />
					<input type="email" placeholder="Email" />
					<input type="text" placeholder="Phone Number" />
					<input type="text" placeholder="Country" />
					<input type="password" placeholder="Password" />
					<button>Submit</button>
				</div>
			</div>
		</div>

		<header>
			<div class="containers" id="header">
				<div class="logo">
					<img src="assets/IAML Logo-01.png" alt="" />
				</div>
				<div class="menu-toggle" onclick="toggleMenu()">
					<span></span>
					<span></span>
					<span></span>
				</div>
				<div class="links">
					<a href="about.html">About</a>
					<a href="services.html">Services</a>
					<a href="careers.html">Careers</a>
					<a href="e-trader.html">E-Trader</a>
					<a href="login.html" class="login">Login</a>
					<a href="#openAccounts" id="signup-link" class="register">Signup</a>
				</div>
			</div>
		</header>
		<div
			id="openAccounts"
			style="
				position: fixed;
				background: rgb(0, 0, 0, 0.3);
				top: 0;
				height: 100%;
				z-index: 99999;
				display: none;
				flex-direction: column;
				justify-content: center;
				align-items: center;
			"
		>
			<div class="git" style="position: relative">
				<span
					id="closeModal"
					style="
						font-size: 1rem;
						border: 1px solid rgb(51, 50, 50);
						padding: 0 10px;
						position: absolute;
						right: 0.5rem;
						top: 5px;
						cursor: pointer;
					"
					>x</span
				>
				<div class="faqtitle">Open an account with us</div>
				<div class="faqsubtitle">
					Imperial-trader, you can trade your securities online, in real time
					with as little as a minimum account opening balance of N5,000 only
					from wherever you are. We provide a comprehensive range of services to
					meet and execute on your investment requirements
				</div>

				<div class="btns">
					<button id="individual-account-btn">
						Open an Individual Account
					</button>
					<button id="corporate-account-btn">Open a Corporate Account</button>
				</div>
			</div>
		</div>
		<div class="ovl"></div>
		<main>
			<div class="containers etarderform">
				<h1>Corporate Account Opening Form</h1>
				<div class="formprogress">
					<div class="progressdata" id="progress-text">1 / 5</div>
				</div>

				<form id="multistep-form">
					<!-- Step 1: Personal Information -->
					<div class="step step-1">
						<h3>Step 1: Corporate Information</h3>
						<div class="etraderformgrid">
							<div class="fblk">
								<label for="first-name">Company Name *</label>
								<input
									type="text"
									id="first-name"
									placeholder="Enter the name of the company"
									required
								/>
							</div>
							<div class="fblk">
								<label for="email">Email Address *</label>
								<input
									type="email"
									id="email"
									placeholder="example@gmail.com"
									required
								/>
							</div>
							<div class="fblk">
								<label for="phone">Phone Number *</label>
								<input
									type="text"
									id="phone"
									placeholder="Enter Phone No"
									required
								/>
							</div>
							<div class="fblk">
								<label for="dob">Incorporation *</label>
								<input type="date" id="dob" required />
							</div>
							<div class="fblk">
								<label for="country">Country *</label>
								<input
									type="text"
									id="country"
									placeholder="Select Country"
									required
								/>
							</div>
							<div class="fblk">
								<label for="landmark">Nearest Landmark *</label>
								<input
									type="text"
									id="landmark"
									placeholder="Enter Nearest Landmark"
									required
								/>
							</div>
							<div class="fblk">
								<label for="state">State of location *</label>
								<input
									type="text"
									id="state"
									placeholder="Select State of business location"
									required
								/>
							</div>
							<div class="fblk">
								<label for="residential-address">Corporate Address *</label>
								<input
									type="text"
									id="residential-address"
									placeholder="Enter Corporate Address"
									required
								/>
							</div>
							<div class="fblk">
								<label for="id-type">ID Type *</label>
								<select id="id-type" required>
									<option value="">Select ID Type</option>
									<option value="NIN">NIN</option>
									<option value="Passport">Passport</option>
									<option value="Driver's License">Driver's License</option>
									<option value="Voter's Card">Voter's Card</option>
								</select>
							</div>
							<div class="fblk">
								<label for="id-number">ID Number *</label>
								<input
									type="text"
									id="id-number"
									placeholder="Enter ID Number"
									required
								/>
							</div>
						</div>
						<div class="fblk btnk etraderformgrid">
							<button type="button" onclick="nextStep(1)">Next</button>
						</div>
					</div>

					<!-- Step 2: Address Information -->
					<div class="step step-2 hidden">
						<h3>Step 2: Address Information</h3>
						<div class="etraderformgrid">
							<div class="fblk">
								<label for="office-address">Office Address</label>
								<input
									type="text"
									id="office-address"
									placeholder="Office Address"
									required
								/>
							</div>
							<div class="fblk">
								<label for="office-phone">Office Telephone</label>
								<input
									type="text"
									id="office-phone"
									placeholder="Office Telephone"
								/>
							</div>
						</div>
						<div class="fblk btnk etraderformgrid">
							<button type="button" onclick="prevStep(2)" class="whitebtn">
								Previous
							</button>
							<button type="button" onclick="nextStep(2)">Next</button>
						</div>
					</div>

					<!-- Step 3: Employment & Income Details -->
					<div class="step step-3 hidden">
						<h3>Step 3: Employment & Income Details</h3>
						<div class="etraderformgrid">
							<div class="fblk">
								<label for="occupation">Line of Business</label>
								<input
									type="text"
									id="occupation"
									placeholder="Occupation/Line of Business"
									required
								/>
							</div>
							<div class="fblk">
								<label for="annual-income">Annual Revenue</label>
								<input
									type="text"
									id="annual-revenue"
									placeholder="Annual Revenue"
									required
								/>
							</div>
						</div>
						<div class="fblk btnk etraderformgrid">
							<button type="button" onclick="prevStep(3)" class="whitebtn">
								Previous
							</button>
							<button type="button" onclick="nextStep(3)">Next</button>
						</div>
					</div>

					<!-- Step 4: Additional Information -->
					<div class="step step-4 hidden">
						<h3>Step 4: Banking Information</h3>
						<div class="etraderformgrid">
							<div class="fblk">
								<label for="bank-name">Bank Name</label>
								<select id="bank-name" required>
									<option value="">Select Bank</option>
								</select>
							</div>
							<div class="fblk">
								<label for="account-number">Account Number</label>
								<input
									type="text"
									id="account-number"
									placeholder="Enter Account Number"
									required
								/>
							</div>
							<div class="fblk">
								<label for="account-name">Account Name</label>
								<input
									type="text"
									id="account-name"
									placeholder="Account Name"
									readonly
								/>
							</div>
							<div class="fblk">
								<label for="bvn">BVN</label>
								<input
									type="text"
									id="bvn"
									placeholder="Bank Verification Number"
									required
								/>
							</div>
						</div>

						<div class="fblk btnk etraderformgrid">
							<button type="button" onclick="prevStep(4)" class="whitebtn">
								Previous
							</button>
							<button type="button" onclick="nextStep(4)">Next</button>
						</div>
					</div>

					<div class="step step-5 hidden">
						<h3>Step 4: Additional Information</h3>
						<div class="etraderformgrid">
							<div class="fblk">
								<label for="introduced-by"
									>Who introduced you to Imperial Asset Managers Limited?</label
								>
								<input
									type="text"
									id="introduced-by"
									placeholder="Introducer"
								/>
							</div>
							<div class="fblk">
								<label for="source-funds"
									>Source of Funds to Operate Account</label
								>
								<input
									type="text"
									id="source-funds"
									placeholder="Source of Funds"
									required
								/>
							</div>
							<div class="fblk">
								<label for="expected-amount"
									>Amount (Expected Annual Turnover)</label
								>
								<input
									type="text"
									id="expected-amount"
									placeholder="Expected Annual Amount Turnover"
									required
								/>
							</div>
							<div class="fblk">
								<label for="other-income">Other Sources of Income</label>
								<input
									type="text"
									id="other-income"
									placeholder="Other Sources of Income"
								/>
							</div>
						</div>
						<div class="fblk btnk etraderformgrid">
							<button type="button" onclick="prevStep(4)" class="whitebtn">
								Previous
							</button>
							<button type="submit">Submit</button>
						</div>
					</div>
				</form>
			</div>
		</main>

		<footer>
			<div class="containers">
				<div class="footersec">
					<div class="footertop">Explore</div>
					<div class="footerbtm">
						<a href="about.html"> About </a>
						<a href="services.html"> Board of Directors </a>
						<a href="services.html"> Management </a>
						<a href="careers.html"> Careers </a>
					</div>
				</div>

				<div class="footersec">
					<div class="footertop">Our Businesses</div>
					<div class="footerbtm">
						<a href="iaml.html">Imperial Asset Managers Limited</a>
						<a href="ical.html">Imperial Capital Advisers Limited</a>
					</div>
				</div>

				<div class="footersec">
					<div class="footertop">Our Newsfeed</div>
					<div class="footerbtm">
						<a href=""> All News</a>
						<a href="research.html">Research and Insights</a>
						<a href="">Blog</a>
						<a href="policy.html">Policies</a>
						<a
							href="RISK-DISCLOSURE-STATEMENT.pdf"
							target="_blank"
							rel="noopener noreferrer"
							>Risk Disclosure Statement</a
						>
					</div>
				</div>

				<div class="footersec">
					<div class="footertop">Subscribe to our newsletter</div>
					<div class="footerbtm">
						Weekly email about trends shaping markets, industries and the global
						economy.
					</div>
					<input type="text" class="footerinput" />
					<button>Submit</button>
				</div>

				<div class="footersec">
					<div class="marg">
						<h6 class="footertop" style="font-size: 16px; margin-bottom: 8px">
							IMP Office Address
						</h6>
						<div class="footerbtm">
							<!-- <a href=""><b>Lagos Office:</b></a> -->
							<a href=""
								>THE IMPERIAL PLACE <br />
								24A, Mainland Way <br />
								Dolphin Estate, <br />
								Ikoyi, Lagos.</a
							>
						</div>
					</div>
					<div>
						<h6 class="footertop" style="font-size: 16px; margin-bottom: 8px">
							ICAL Office Address
						</h6>
						<div class="footerbtm">
							<!-- <a href=""><b>Lagos Office:</b></a> -->
							<a href=""
								>THE EBENEZER PLACE <br />
								148A, Ikeja Way <br />
								Off Association Road <br />
								Dolphin Estate, <br />
								Ikoyi, Lagos.</a
							>
						</div>
					</div>
				</div>
				<div class="footersec map">
					<iframe
						src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3964.5036533682055!2d3.4132098740454926!3d6.457688223926582!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x103b8b35b4fdc5a5%3A0x59082e1e16d38ed5!2s24%20Mainland%20Way%2C%20Dolphine%20Estate%2C%20Lagos%20106104%2C%20Lagos!5e0!3m2!1sen!2sng!4v1736887923932!5m2!1sen!2sng"
						width="100%"
						height="100%"
						loading="lazy"
						title="Imperial asset"
						style="border: none; margin-bottom: 20px"
						referrerpolicy="no-referrer-when-downgrade"
					>
					</iframe>
					<iframe
						src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d15857.979123387264!2d3.4184!3d6.458821!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x238182d4bcfe0325!2sImperial+Asset+Managers+Limited!5e0!3m2!1sen!2sng!4v1550768151695"
						width="100%"
						height="100%"
						loading="lazy"
						title="Imperial asset"
						style="border: none"
					>
					</iframe>
				</div>

				<div class="footersec">
					<div class="footertop">Reach Us</div>
					<div class="footerbtm">
						<!-- <a href=""><b>Send a Message</b></a> -->

						<div class="reach">
							<div>
								<span
									><img
										src="./assets/envelope-solid.svg"
										alt="email address"
									/><span class="sp">IMP Email</span></span
								>
								<span
									><img
										style="visibility: hidden"
										src="./assets/envelope-solid.svg"
										alt="email address"
									/>
									<a class="no-copy" href="#">talk2us@imperialasset.com.ng</a>
								</span>
							</div>
							<div>
								<span
									><img
										src="./assets/envelope-solid.svg"
										alt="email address"
									/><span class="sp">ICAL Email</span></span
								>
								<span
									><img
										style="visibility: hidden"
										src="./assets/envelope-solid.svg"
										alt="email address"
									/>
									<a class="no-copy" href="#"
										>talk2capitaladvisers@imperial<br />asset.com.ng</a
									>
								</span>
							</div>
							<span
								><img src="./assets/phone-solid.svg" alt="phone" />234-706 043
								5102
							</span>
							<span
								><img src="./assets/phone-solid.svg" alt="phone" />234-806 703
								5949</span
							>
							<span
								><img src="./assets/phone-solid.svg" alt="phone" />234-912 500
								7249</span
							>
						</div>
					</div>
				</div>
				<div class="footersec">
					<img src="assets/COMP.png" alt="" />
				</div>
			</div>
		</footer>

		<!-- Toggle Menu Fn -->
		<script>
			function toggleMenu() {
				const links = document.querySelector(".links");
				links.classList.toggle("active");
			}
		</script>

		<script>
			const signupLink = document.getElementById("signup-link");
			const openAccounts = document.getElementById("openAccounts");
			const closeModal = document.getElementById("closeModal");

			signupLink.addEventListener("click", (e) => {
				e.preventDefault();
				openAccounts.style.display = "flex";
			});
			closeModal.addEventListener("click", () => {
				openAccounts.style.display = "none";
			});

			const individualAccountBtn = document.getElementById(
				"individual-account-btn"
			);
			const corporateAccountBtn = document.getElementById(
				"corporate-account-btn"
			);

			individualAccountBtn.addEventListener("click", () => {
				window.location.href = "etraderform.html";
			});
			corporateAccountBtn.addEventListener("click", () => {
				window.location.href = "ecorporateform.html";
			});
		</script>

		<!--Stepper functions && User information submission logic -->
		<script>
			let currentStep = 1;
			const totalSteps = 5;
			const steps = document.querySelectorAll(".step");
			const progressText = document.getElementById("progress-text");

			function showStep(step) {
				steps.forEach((el, index) => {
					el.classList.toggle("hidden", index + 1 !== step);
				});
				window.scrollTo({
					top: 0,
					behavior: "smooth",
				});
				progressText.textContent = `${step} / ${totalSteps}`;
			}

			function validateStep(step) {
				const stepFields = document.querySelectorAll(
					`.step:nth-child(${step}) input, .step:nth-child(${step}) select`
				);
				let isValid = true;

				stepFields.forEach((field) => {
					if (!field.value.trim()) {
						isValid = false;
						field.classList.add("error"); // Highlight the empty fields
					} else {
						field.classList.remove("error");
					}
				});

				if (!isValid) {
					alert(
						"Please fill all required fields before proceeding to the next step."
					);
				}

				return isValid;
			}

			function nextStep() {
				if (currentStep < totalSteps && validateStep(currentStep)) {
					currentStep++;
					showStep(currentStep);
				}
			}

			function prevStep() {
				if (currentStep > 1) {
					currentStep--;
					showStep(currentStep);
				}
			}

			// Submit data
			document.getElementById("multistep-form").onsubmit = async function (e) {
				e.preventDefault();

				const formData = {};
				console.log(formData);
				const inputs = document.querySelectorAll(
					"#multistep-form input, #multistep-form select"
				);
				inputs.forEach((input) => {
					formData[input.id] = input.value;
				});

				const url = `http://localhost:3000/proxy.php?url=http://api.issl.ng:7777/onboarding-api/1.0/newcustomer2/1/${isslData.firstName}/${isslData.lastName}`;

				const xtenantid = `demo`;

				try {
					const response = await fetch(url, {
						method: "POST",
						headers: {
							"Content-Type": "application/json",
							"X-TENANTID": xtenantid,
							// access_token: localStorage.getItem("access_token"),
						},
						body: JSON.stringify(isslData),
					});

					const result = await response.json();
					if (response.ok) {
						console.log(result);
						alert("Form submitted successfully!");
					} else {
						console.log("Did not upload successfully");
						alert("Upload failed");
					}
				} catch (error) {
					console.error("Error submitting form:", error);
					alert("An error occurred while submitting the form.");
				}

				// Send data to PHP endpoint

				// try {
				// 	const response = await fetch(
				// 		"https://marketreports.vercel.app/api/form-submission/",
				// 		{
				// 			method: "POST",
				// 			headers: {
				// 				"Content-Type": "application/json",
				// 			},
				// 			body: JSON.stringify(formData),
				// 		}
				// 	);

				// 	const result = await response.json();
				// 	if (result.status === "success") {
				// 		alert("Form submitted successfully!");
				// 		window.location.href = "/";
				// 	} else {
				// 		alert("Error: " + result.message);
				// 	}
				// } catch (error) {
				// 	console.error("Error submitting form:", error);
				// 	alert("An error occurred while submitting the form.");
				// }
			};

			// Initial step setup
			showStep(currentStep);
		</script>

		<!-- Get Bank List -->
		<script>
			const PAYSTACK_SECRET_KEY =
				"sk_test_9b7782e2e31d0c2156deed534c8a1e7a72a5c1ef"; // Replace with your actual Paystack secret key
			let typingTimer; // Timer for debounce
			const typingDelay = 500; // Delay in milliseconds

			// Function to populate the bank list
			async function fetchBankList() {
				try {
					const response = await fetch("https://api.paystack.co/bank", {
						method: "GET",
						headers: {
							Authorization: `Bearer ${PAYSTACK_SECRET_KEY}`,
							"Content-Type": "application/json",
						},
					});
					const { data } = await response.json();

					if (!data) throw new Error("No data returned from API");

					const bankNameSelect = document.getElementById("bank-name");
					data.forEach((bank) => {
						const option = document.createElement("option");
						option.value = bank.code;
						option.textContent = bank.name;
						bankNameSelect.appendChild(option);
					});
				} catch (error) {
					console.error("Error fetching bank list:", error);
					alert("Unable to fetch bank list. Please try again later.");
				}
			}

			// Function to fetch account name
			async function fetchAccountName() {
				const bankCode = document.getElementById("bank-name").value;
				const accountNumber = document.getElementById("account-number").value;

				// Validate inputs: Bank must be selected, and account number should be 11 digits
				if (!bankCode || accountNumber.length !== 10) {
					document.getElementById("account-name").value = ""; // Clear account name if validation fails
					return;
				}

				try {
					// Construct the URL with query parameters
					const url = `https://api.paystack.co/bank/resolve?account_number=${accountNumber}&bank_code=${bankCode}`;

					// Make the GET request
					const response = await fetch(url, {
						method: "GET",
						headers: {
							Authorization: `Bearer ${PAYSTACK_SECRET_KEY}`,
							"Content-Type": "application/json",
						},
					});

					const { data, status, message } = await response.json();
					if (status) {
						document.getElementById("account-name").value = data.account_name;
					} else {
						alert(message || "Could not resolve account name.");
						document.getElementById("account-name").value = ""; // Clear account name if response fails
					}
				} catch (error) {
					console.error("Error resolving account name:", error);
					alert("An error occurred while fetching account name.");
					document.getElementById("account-name").value = ""; // Clear account name if error occurs
				}
			}

			// Event Listener with Debounce for Account Number Input
			document
				.getElementById("account-number")
				.addEventListener("input", () => {
					clearTimeout(typingTimer); // Clear the previous timer
					typingTimer = setTimeout(fetchAccountName, typingDelay); // Set a new timer to wait before fetching
				});

			// Trigger fetch when bank is selected
			document
				.getElementById("bank-name")
				.addEventListener("change", fetchAccountName);

			// Initialize bank list on page load
			fetchBankList();
		</script>
	</body>
</html>
